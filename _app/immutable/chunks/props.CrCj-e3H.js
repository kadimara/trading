import{b as H,h as I,c as U,E as p,H as z,d as $,s as j,e as C,f as D,j as F,p as N,k as J,l as K,r as V,u as O,m as Z,S as M,n as k,o as Q,t as W,P as X,v as ee,w as P,x as ae,B as re,R as se,y as q,z as fe,A as te,C as ie,D as ne,F as ue,G as B,I as le,J as _e,K as w,M as ce}from"./runtime.CJk2xlFp.js";import{p as ve}from"./index-client.DLNgJzLo.js";import{c as de}from"./store.CynyrUSJ.js";function Pe(e,a,i=!1){I&&U();var n=e,f=null,r=null,l=null,o=i?p:0,c=!1;const _=(u,t=!0)=>{c=!0,R(t,u)},R=(u,t)=>{if(l===(l=u))return;let v=!1;if(I){const E=n.data===z;l===E&&(n=$(),j(n),C(!1),v=!0)}l?(f?D(f):t&&(f=F(()=>t(n))),r&&N(r,()=>{r=null})):(r?D(r):t&&(r=F(()=>t(n))),f&&N(f,()=>{f=null})),v&&C(!0)};H(()=>{c=!1,a(_),c||R(null,null)},o),I&&(n=J)}function Y(e,a){return e===a||(e==null?void 0:e[M])===a}function Re(e={},a,i,n){return K(()=>{var f,r;return V(()=>{f=r,r=[],O(()=>{e!==i(...r)&&(a(e,...r),f&&Y(i(...f),e)&&a(null,...f))})}),()=>{Z(()=>{r&&Y(i(...r),e)&&a(null,...r)})}}),e}function x(e){for(var a=w,i=w;a!==null&&!(a.f&(re|se));)a=a.parent;try{return q(a),e()}finally{q(i)}}function oe(e,a,i,n){var L;var f=(i&fe)!==0,r=!te||(i&ie)!==0,l=(i&ne)!==0,o=(i&ce)!==0,c=!1,_;l?[_,c]=de(()=>e[a]):_=e[a];var R=M in e||ue in e,u=((L=k(e,a))==null?void 0:L.set)??(R&&l&&a in e?s=>e[a]=s:void 0),t=n,v=!0,E=!1,g=()=>(E=!0,v&&(v=!1,o?t=O(n):t=n),t);_===void 0&&n!==void 0&&(u&&r&&Q(),_=g(),u&&u(_));var d;if(r)d=()=>{var s=e[a];return s===void 0?g():(v=!0,E=!1,s)};else{var m=x(()=>(f?B:le)(()=>e[a]));m.f|=W,d=()=>{var s=P(m);return s!==void 0&&(t=void 0),s===void 0?t:s}}if(!(i&X))return d;if(u){var G=e.$$legacy;return function(s,h){return arguments.length>0?((!r||!h||G||c)&&u(h?d():s),s):d()}}var A=!1,y=!1,T=_e(_),S=x(()=>B(()=>{var s=d(),h=P(T);return A?(A=!1,y=!0,h):(y=!1,T.v=s)}));return f||(S.equals=ee),function(s,h){if(arguments.length>0){const b=h?P(S):r&&l?ve(s):s;return S.equals(b)||(A=!0,ae(T,b),E&&t!==void 0&&(t=b),O(()=>P(S))),s}return P(S)}}export{Re as b,Pe as i,oe as p};
